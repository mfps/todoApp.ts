{"version":3,"sources":["webpack:///webpack/bootstrap efd4fc9ca056f9e50a01","webpack:///./app.ts","webpack:///./app/todo/TodoApp.ts","webpack:///./app/service/TodoService.ts","webpack:///./app/model/model.ts","webpack:///./app/todo/TodoListComponent.ts"],"names":[],"mappings":"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","file":"./build/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap efd4fc9ca056f9e50a01","import TodoApp from './app/todo/TodoApp';\r\n\r\n(function () {\r\n    new TodoApp(document, [\r\n        'Clean Batcave',\r\n        'Save Gotham',\r\n        'Do the dishes'\r\n    ]);\r\n})();\n\n\n// WEBPACK FOOTER //\n// ./app.ts","import { Todo, TodoState } from './../model/model';\r\nimport TodoService, { ITodoService } from '../service/TodoService';\r\nimport TodoListComponent from './TodoListComponent';\r\n\r\nexport default class TodoApp {\r\n\r\n    private todoService: ITodoService;\r\n    private todoList: TodoListComponent;\r\n\r\n    constructor(el, todos) {\r\n        this.todoService = new TodoService(todos);\r\n        this.init(el);\r\n    }\r\n\r\n    renderTodos() {\r\n        const todos = this.todoService.getAll();\r\n        this.todoList.render(todos);\r\n    }\r\n\r\n    addTodo(todoName) {\r\n        this.todoService.add(todoName);\r\n        this.renderTodos();\r\n    }\r\n\r\n    clearComplete() {\r\n\r\n        this.todoService.clearComplete();\r\n        this.renderTodos();\r\n    }\r\n\r\n    toggleTodoState(todoId) {\r\n        this.todoService.toggle(todoId);\r\n        this.renderTodos();\r\n    }\r\n\r\n    init(el) {\r\n        const addTodoFormEl = el.getElementsByClassName('add-todo')[0];\r\n        const addTodoNameEl = addTodoFormEl.getElementsByTagName('input')[0];\r\n        const todoListEl = el.getElementsByClassName('todo-list')[0];\r\n        const clearCompleteEl = el.getElementsByClassName('clear-completed')[0];\r\n\r\n        this.eventHandler({ addTodoFormEl, addTodoNameEl, todoListEl, clearCompleteEl });\r\n\r\n        this.todoList = new TodoListComponent(todoListEl);\r\n\r\n        this.renderTodos();\r\n    }\r\n\r\n    eventHandler(...args) {\r\n\r\n        const { addTodoFormEl, addTodoNameEl, todoListEl, clearCompleteEl } = args[0];\r\n\r\n        addTodoFormEl.addEventListener('submit', (e) => {\r\n\r\n            this.addTodo(addTodoNameEl.value);\r\n            addTodoNameEl.value = '';\r\n            e.preventDefault();\r\n        });\r\n\r\n        todoListEl.addEventListener('todo-toggle', (e) => {\r\n            const todoId = e.detail.todoId;\r\n\r\n            this.todoService.toggle(todoId);\r\n            this.renderTodos();\r\n        });\r\n\r\n        clearCompleteEl.addEventListener('click', (e) => {\r\n            this.clearComplete();\r\n        });\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/todo/TodoApp.ts","import { Todo, TodoState } from './../model/model';\r\n\r\nexport interface ITodoService {\r\n    add(todo: Todo): Todo;\r\n    add(todo: string): Todo;\r\n    clearComplete(): void;\r\n    getAll(): Todo[];\r\n    getById(todoId: number): Todo;\r\n    toggle(todoId: number): void;\r\n}\r\n\r\nlet _lastId = 0;\r\n\r\nconst generateTodoId = (): number => {\r\n    return _lastId += 1;\r\n}\r\n\r\nconst clone = <T>(src: T): T => {\r\n    const clone = JSON.stringify(src);\r\n    return JSON.parse(clone);\r\n}\r\n\r\nexport default class TodoService implements ITodoService {\r\n\r\n    private todos: Todo[] = [];\r\n\r\n    constructor(todos: string[]) {\r\n        if (todos) {\r\n            todos.forEach(todo => this.add(todo));\r\n        }\r\n    }\r\n\r\n    add(todo: Todo): Todo\r\n    add(todo: string): Todo\r\n    add(input): Todo {\r\n\r\n        let todo: Todo = {\r\n            id: generateTodoId(),\r\n            name: null,\r\n            state: TodoState.Active\r\n        };\r\n\r\n        if (typeof input === 'string') {\r\n\r\n            todo.name = input;\r\n        } else if (typeof input.name === 'string') {\r\n\r\n            todo.name = input;\r\n        } else {\r\n\r\n            throw 'Invalid ToDo name!';\r\n        }\r\n\r\n        this.todos.push(todo);\r\n\r\n        return todo;\r\n    }\r\n\r\n    clearComplete(): void {\r\n        this.todos = this.todos.filter(x => x.state == TodoState.Active);\r\n    }\r\n\r\n    getAll(): Todo[] {\r\n        return clone(this.todos);\r\n    };\r\n\r\n    getById(todoId: number): Todo {\r\n        const todo = this._find(todoId);\r\n        return clone(todo);\r\n    }\r\n\r\n    toggle(todoId: number): void {\r\n\r\n        console.log('toogle', todoId);\r\n\r\n        const todo = this._find(todoId);\r\n\r\n        if (!todo) return;\r\n\r\n        switch (todo.state) {\r\n            case TodoState.Active:\r\n                todo.state = TodoState.Complete;\r\n                break;\r\n            case TodoState.Complete:\r\n                todo.state = TodoState.Active;\r\n                break;\r\n        }\r\n    }\r\n\r\n    private _find(todoId: number): Todo {\r\n        const filtered = this.todos.filter(x => x.id == todoId);\r\n        if (filtered.length) return filtered[0];\r\n        return null;\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/service/TodoService.ts","export interface Todo {\r\n    id: number;\r\n    name: string;\r\n    state: TodoState;\r\n}\r\n\r\nexport enum TodoState {\r\n    Active = 1,\r\n    Complete = 2\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/model/model.ts","import { Todo, TodoState } from './../model/model';\r\n\r\nexport default class TodoListComponent {\r\n\r\n    private $el: HTMLElement;\r\n\r\n    constructor(el: HTMLElement) {\r\n        this.$el = el;\r\n\r\n    }\r\n\r\n    private renderTodo(todo) {\r\n        const template = $(\r\n            `<div class='todo-item list-group-item ${(todo.state == 2 ? 'completed' : '')}'>\r\n                <div class='row'>\r\n                    <div class='col-md-2 text-center'>\r\n                        <i class='incomplete glyphicon glyphicon-unchecked text-muted text-giant'></i>\r\n                        <i class='completed-indicator completed glyphicon glyphicon-ok text-giant'></i>\r\n                    </div>\r\n                    <div class='col-md-10'>\r\n                        <span class='incomplete text-giant'>${ todo.name}</span>\r\n                        <span class='completed text-strikethrough text-muted text-giant'>${ todo.name}</span>\r\n                    </div>\r\n                </div>\r\n                <div class='clearfix'></div>\r\n            </div`);\r\n\r\n        template.on('click', function () {\r\n            var event = document.createEvent('CustomEvent');\r\n\r\n            event.initCustomEvent('todo-toggle', true, true, { todoId: todo.id });\r\n            this.dispatchEvent(event);\r\n        });\r\n\r\n        return template;\r\n    }\r\n\r\n    render(todos) {\r\n        $(this.$el).html('');\r\n\r\n        if (!todos.length) {\r\n            const templateString = `<div class='list-group-item text-center text-giant'>\r\n                                        <strong>You've completed everything you needed to do!</strong>\r\n                                    </div>`;\r\n\r\n            $(this.$el).html(templateString);\r\n            return;\r\n        }\r\n\r\n        for (const index in todos) {\r\n            const todo = todos[index];\r\n            this.renderTodo(todo).appendTo(this.$el);\r\n        }\r\n    }\r\n}\n\n\n// WEBPACK FOOTER //\n// ./app/todo/TodoListComponent.ts"],"sourceRoot":""}